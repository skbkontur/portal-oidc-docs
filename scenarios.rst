Сценарии использования OpenID Connect
=====================================

Мы собрали три основных сценария, которые помогут вам понять, что вы можете получить от интеграции с OpenID Connect:

.. contents:: Содержание
   :depth: 3

Если вы хотите интегрироваться с OpenID Connect, но вам по какой-то причине не подходят типовые сценарии, напишите нам на portal.team@skbkontur.ru для консультации.

Аутентификация в приложении
---------------------------

Схема позволяет приложению узнать у OpenID Провайдера информацию о пользователе. 

Пользователь будет входить в ваше приложение, а для аутентификации использовать свою учетную запись Контура. Если пользователь новый, то он пройдет регистрацию. 

Приложение от OpenID Провайдера получит основные данные о пользователе. Дальнейшее разграничение прав доступа в приложении вы будете настраивать самостоятельно.

Для пользователя весь процесс аутентификации будет выглядеть как несколько редиректов в браузере:

1. Приложение перенаправляет пользователя в OpenID Провайдер. 
2. Пользователь входит в свою учетную запись Контура либо регистрирует новую.
3. Когда OpenID Провайдер узнает пользователя, он перенаправит его обратно в приложение.

Авторизация в продукты Контура
------------------------------
При помощи OpenID Провайдера пользователь разрешает вашему приложению получать свои секретные данные из продукта Контура. При этом ваше приложение ничего не будет знать про учетную запись пользователя (логин, пароль, данные пользователя). 

Результат авторизации — ключ доступа. То есть ключи, по которым приложение сможет отправить запрос в API продуктов Контура

Аутентификация в приложении и авторизация в продукты Контура
------------------------------------------------------------

Схема позволяет пользователю перейти из приложения интегратора в Продукт Контура. Если пользователь новый, то в Продукте Контура будет создана учетная запись. Если пользователь входит второй и более раз, он попадает в свою учетку в Продукте.

.. seealso:: На странице :doc:`/schemes/index` описано взаимодействие приложения с OpenID Провайдером и последовательность интеграции.